# 书写高质量SQL的30条建议

### 1.查询SQL尽量不要使用select *,而是select 具体字段

### 2.如果知道查询结果只有一条或者只要最大最小一条记录，建议用limit 1

### 3.应尽量避免在where子句中使用or来连接条件正例：

### 4.优化limit分页

### **5.优化like语句**

与文章中叙述不一致：

如果select之中包含非索引字段 like “%a" 不会走索引，如果select之中全部是索引字段 like "%a"也会走索引。

![截屏2020-04-06上午10.19.36](/Users/denakira/Desktop/myworkspace/note/数据库/picture/截屏2020-04-06上午10.19.36.png)

### **6.使用where条件限定要查询的数据，避免返回多余的行**

### 7.尽量避免在索引列上使用mysql的内置函数

### **8.尽量避免在where子句中对字段进行表达式操作**

###  **9.优先使用Inner join，如果是left join，左边表结果尽量小**

### **10.尽量避免在where子句中使用!=或<>操作符，否则导致索引失效**

### **11.使用联合索引时，注意索引列的顺序，遵循最左匹配规则**

### **12.对查询进行优化，应该考虑在where及order by涉及的字段上建立索引，避免全表扫描**

### **13.如果插入数据过多，考虑批量插入**

### 14.在适当的时候，使用覆盖索引

### 15.慎用distinct关键字

### 16.删除冗余和重复索引

### 17.如果数据量较大，优化修改/删除语句

### 18.where子句中考虑使用默认值代替null

### 19.不要有超过5个以上的表连接

### 20.exist & in的合理使用

### 21.尽量用union all代替union

### 22.索引不宜太多，一般5个以

### 23.尽量使用数字型字段，不只包含数值信息的字段不要设计为字符类型

### 24.索引不适合建立在有大量重复数据的字段上，如性别

### 25.尽量避免向客户端返回过多数据量

### 26.在SQL语句中连接多个表时，使用别名，这样语义清晰

### 27.尽量使用varchar 代替char，以节省空间

### 28.为了提高group by效率，可以在执行该语句前，过滤掉不需要的记录

### 29.如果字段类型是字符串，where时一定要用引号扩起来，否则索引失效

### 30.使用explain分析执行计划